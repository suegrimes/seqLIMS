<h1>Listing Samples in Container: <%=h @ssc.container_type %>&nbsp;<%=h @ssc.container_name %></h1>

<table class="list">
  <tr>
  	<th>Sample Name</th>
    <th>Position</th>
	<th>Sample Type</th>
	<th>Room/Freezer</th>
	<th>Upd By</th>
    <th>&nbsp;</th>
  </tr>

  <% @sample_storage_containers.each do |sscontainer| %>
  <% if sscontainer.stored_sample %>
     <% stype_fld = sscontainer.stored_sample_type == 'Sample' ? sscontainer.stored_sample.sample_type : sscontainer.stored_sample.extraction_type %>
  <% else %>
     <% stype_fld = '' %>
  <% end %>

  <tr>
    <td>
      <% if sscontainer.stored_sample %><%=link_to sscontainer.sample_name_or_barcode, sscontainer.stored_sample %>
      <% else %><%=h sscontainer.sample_name_or_barcode %>
      <% end %>
    </td>
	<td><%=h sscontainer.position_in_container %></td>
	<td><%=h stype_fld %></td>
	<td><%=h sscontainer.room_and_freezer %></td>
	<td><% if sscontainer.updated_by %><%=h User.find(sscontainer.updated_by).login %><% end %></td>
    <td><% if sscontainer.stored_sample and can? :edit, SampleStorageContainer %>
          <%=link_to 'Edit', edit_sample_loc_path(sscontainer.stored_sample) %>
        <% end %>
    </td>
  </tr>
  <% end %>
</table>
